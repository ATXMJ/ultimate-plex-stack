buildarr:
  # Buildarr runs as an on-demand, one-shot tool (see Step 10 / 10.1).
  watch_config: false

################################################################################
## Prowlarr – Indexer Management (Step 9 + 10 + 10.1)
##
## NOTE:
## - This section is intentionally conservative and uses placeholders.
## - Secrets (API keys, credentials) are provided to the container via
##   environment variables defined in `.env.secrets` (see docs/Configuration.md).
## - Do NOT hard-code real keys in this file; only reference env vars.
## - Before running Buildarr, ensure `.env.secrets` contains values for:
##     PROWLARR_API_KEY, PROWLARR_AUTH_USERNAME, PROWLARR_AUTH_PASSWORD,
##     RADARR_API_KEY, SONARR_API_KEY, QBITTORRENT_USERNAME, QBITTORRENT_PASSWORD.
##   Then run:
##       docker compose --env-file .env.config run --rm buildarr apply
## - Field names are based on the Buildarr Prowlarr plugin; verify against
##   your installed version if you run into validation errors.
################################################################################
prowlarr:
  # Connectivity (matches docker-compose service `prowlarr`)
  hostname: prowlarr
  port: 9696
  protocol: http

  # REQUIRED: Prowlarr API key from the UI (Settings ➜ General).
  api_key: ${PROWLARR_API_KEY}

  # Optional: If you enabled Forms Authentication in Step 9, model it here.
  # If you left auth disabled, you can remove this block or keep `enabled: false`.
  authentication:
    enabled: enabled
    method: forms
    username: ${PROWLARR_AUTH_USERNAME}
    password: ${PROWLARR_AUTH_PASSWORD}

  # Optional: Model your indexers here. Start with a couple of public
  # torrent/usenet indexers and expand as needed.
  #
  # IMPORTANT:
  # - Public indexers change frequently and often require registration or
  #   API keys, so this repo only ships **templates**, not live endpoints.
  # - The recommended workflow is:
  #     1) Add/verify indexers in the Prowlarr UI.
  #     2) Mirror the final settings back into this block.
  # - Secrets (API keys) should live in `.env.secrets` and be referenced
  #   here via ${ENV_VAR} if needed.
  #
  # The examples below are **disabled** by default so Buildarr can apply
  # cleanly even before you've chosen real indexers.
  indexers:
    - name: PUBLIC_TORRENT_TORZNAB
      enabled: false
      implementation: torznab
      # url: https://your-public-torrent-torznab.example
      # api_key: ${PUBLIC_TORRENT_TORZNAB_API_KEY}
      # categories: [2000, 5000]   # e.g., Movies/TV
      # tags: ["public", "torrent"]

    - name: PUBLIC_USENET_TORZNAB
      enabled: false
      implementation: torznab
      # url: https://your-public-usenet-torznab.example
      # api_key: ${PUBLIC_USENET_TORZNAB_API_KEY}
      # categories: [2000, 5000]
      # tags: ["public", "usenet"]

  # Optional: Prowlarr Apps for Radarr/Sonarr.
  # IMPORTANT:
  #   - You must first retrieve the Radarr / Sonarr API keys from each UI.
  #   - After updating these values, re-run Buildarr.
  apps:
    - name: radarr
      type: radarr
      url: http://radarr:7878
      api_key: ${RADARR_API_KEY}
      sync_level: full
    - name: sonarr
      type: sonarr
      url: http://sonarr:8989
      api_key: ${SONARR_API_KEY}
      sync_level: full

################################################################################
## Radarr – Movies (Step 11)
##
## Models:
## - Root folder (/movies inside container, backed by MEDIA_ROOT/movies on host)
## - Basic quality profiles
## - qBittorrent download client (routed through `vpn` service)
##
## Fill in API keys and qBittorrent credentials before applying.
################################################################################
radarr:
  # Connectivity (matches docker-compose service `radarr`)
  hostname: radarr
  port: 7878
  protocol: http

  # REQUIRED: Radarr API key from Settings ➜ General.
  api_key: ${RADARR_API_KEY}

  # Root movie folder inside the container.
  # Host path: ${MEDIA_ROOT}/movies  ➜  /movies (see docker-compose.yml).
  root_folders:
    - path: /movies
      default: true

  # Baseline quality profiles. Adjust names/behavior to your preferences.
  quality_profiles:
    - name: HD-1080p
      upgrade_allowed: true
    - name: UHD-2160p
      upgrade_allowed: true

  # Download client: qBittorrent (hosted behind `vpn` container).
  # qBittorrent listens on port 8080 on the docker network, exposed via vpn.
  download_clients:
    - name: qbittorrent
      type: qbittorrent
      host: qbittorrent
      port: 8080
      use_ssl: false
      username: ${QBITTORRENT_USERNAME}
      password: ${QBITTORRENT_PASSWORD}
      category: movies

################################################################################
## Sonarr – TV (Step 11)
##
## Models:
## - Root folder (/tv inside container, backed by MEDIA_ROOT/tv on host)
## - Basic quality profiles
## - qBittorrent download client (same instance as Radarr)
################################################################################
sonarr:
  # Connectivity (matches docker-compose service `sonarr`)
  hostname: sonarr
  port: 8989
  protocol: http

  # REQUIRED: Sonarr API key from Settings ➜ General.
  api_key: ${SONARR_API_KEY}

  # Root TV folder inside the container.
  # Host path: ${MEDIA_ROOT}/tv  ➜  /tv (see docker-compose.yml).
  root_folders:
    - path: /tv
      default: true

  # Baseline TV quality profile. Adjust to taste.
  quality_profiles:
    - name: HD-1080p
      upgrade_allowed: true

  # Download client: qBittorrent (same instance, different category).
  download_clients:
    - name: qbittorrent
      type: qbittorrent
      host: qbittorrent
      port: 8080
      use_ssl: false
      username: ${QBITTORRENT_USERNAME}
      password: ${QBITTORRENT_PASSWORD}
      category: tv

################################################################################
## Bazarr – Subtitles (Optional / Future)
##
## There is not yet a stable Buildarr plugin for Bazarr at the time this plan
## was written. This section is here purely as documentation of desired
## settings and DOES NOT currently drive Bazarr automatically.
##
## Keep Bazarr configuration primarily in the UI (Step 11), and migrate it
## here if/when Buildarr gains first-class support.
################################################################################
bazarr:
  hostname: bazarr
  port: 6767
  protocol: http

  # Example: preferred subtitle languages.
  subtitle_languages:
    - en

  # Example: providers. These keys are illustrative only.
  providers:
    - name: opensubtitles
      enabled: true

